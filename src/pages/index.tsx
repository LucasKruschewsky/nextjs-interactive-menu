import Head from "next/head";
import mockData from "@/mocks/restaurant-list";
import { DefaultLayout } from "@/layouts/defaultLayout/defaultLayout";
import { ContentContainer } from "@/styles/pageStyles/index.styled";
import {
  RestaurantApiResponse,
  RestaurantType,
} from "@/mocks/restaurant-api-response.type";
import { Grid4Cols } from "@/components/website-parts/Grid4Cols/Grid4Cols.styled";
import { RestaurantGridItem } from "@/components/website-parts/RestaurantGridItem/RestaurantGridItem";

export default function Home() {
  const apiResponseToArray = (
    restaurants: RestaurantApiResponse
  ): RestaurantType[] => {
    let restaurantsArray: RestaurantType[] = [];

    for (const [key, value] of Object.entries(restaurants)) {
      restaurantsArray = [...restaurantsArray, value];
    }
    return restaurantsArray;
  };

  const restaurantList = apiResponseToArray(mockData);

  return (
    <>
      <Head>
        <title>Interactive Menu</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
      </Head>
      <main>
        <DefaultLayout>
          <ContentContainer>
            <Grid4Cols>
              {restaurantList.map((restaurant) => (
                <RestaurantGridItem
                  key={restaurant.id}
                  restaurant={restaurant}
                />
              ))}
            </Grid4Cols>
          </ContentContainer>
        </DefaultLayout>
      </main>
    </>
  );
}
